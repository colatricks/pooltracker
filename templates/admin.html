{% extends "base.html" %}
{% block content %}
<h2>Admin Page</h2>
<p><a href="{{ url_for('admin_logout') }}">Logout</a></p>
<table>
    <tr>
        <th>User ID</th>
        <th>Username</th>
        <th>Actions</th>
    </tr>
    {% for user in users %}
    <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.username }}</td>
        <td>
            <form action="{{ url_for('rename_user', user_id=user.id) }}" method="POST" style="display:inline;">
                <button type="submit">Rename</button>
            </form>
            <!-- Replace the delete link with a form -->
            <form action="{{ url_for('delete_user', user_id=user.id) }}" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Are you sure you want to delete this user and all associated games?');">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}